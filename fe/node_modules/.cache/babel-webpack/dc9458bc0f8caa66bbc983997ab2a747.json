{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/Desktop/FullStack/JB/ThirdProject/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { environment } from 'src/environments/environment';\nimport store from 'src/app/redux/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/carts.service\";\nimport * as i3 from \"src/app/services/products.service\";\nimport * as i4 from \"src/app/services/items.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\n\nfunction ItemCardComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.item.products[0].name);\n  }\n}\n\nfunction ItemCardComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.item.products[0].name);\n  }\n}\n\nfunction ItemCardComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ItemCardComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.deleteItem();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ItemCardComponent {\n  constructor(myActivatedRoute, myCartsService, myProductsService, myItemsService) {\n    this.myActivatedRoute = myActivatedRoute;\n    this.myCartsService = myCartsService;\n    this.myProductsService = myProductsService;\n    this.myItemsService = myItemsService;\n    this.imageUrl = environment.itemImagesUrl;\n    this.highLight = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.user = store.getState().authState.user;\n\n      try {\n        _this.products = yield _this.myProductsService.getAllProducts();\n      } catch (err) {\n        console.log(\"err user products\");\n      }\n\n      try {\n        _this.carts = yield _this.myCartsService.getAllCarts(_this.user._id);\n      } catch (err) {\n        console.log(\"err getting user carts\");\n      }\n\n      _this.lastCartIndex = _this.carts.length - 1;\n\n      try {\n        _this.items = yield _this.myItemsService.getAllItems(_this.carts[_this.lastCartIndex]._id);\n      } catch (err) {\n        console.log(\"err getting user items\");\n      }\n\n      if (_this.myActivatedRoute.snapshot.routeConfig.path === \"orders/new\") {\n        _this.isCartPage = false;\n      } else {\n        _this.isCartPage = true;\n      }\n\n      return _this.isCartPage;\n    })();\n  }\n\n  deleteItem() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.myItemsService.deleteItem(_this2.item._id);\n\n        _this2.myItemsService.updateCart(true);\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n\n  ngOnChanges(changes, item = this.item, eventListener = false) {\n    item;\n    changes.result;\n\n    if (this.result !== undefined) {\n      if (this.result === []) {\n        eventListener = false;\n      } else {\n        for (let i of this.result) {\n          if (i === this.item) {\n            eventListener = true;\n          }\n        }\n      }\n\n      this.highLight = eventListener;\n    }\n  }\n\n}\n\nItemCardComponent.ɵfac = function ItemCardComponent_Factory(t) {\n  return new (t || ItemCardComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CartsService), i0.ɵɵdirectiveInject(i3.ProductsService), i0.ɵɵdirectiveInject(i4.ItemsService));\n};\n\nItemCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ItemCardComponent,\n  selectors: [[\"app-item-card\"]],\n  inputs: {\n    result: \"result\",\n    item: \"item\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 9,\n  vars: 6,\n  consts: [[1, \"main\"], [\"mat-raised-button\", \"\", 1, \"imageDiv\"], [3, \"src\"], [\"mat-raised-button\", \"\", 1, \"detailsDiv\"], [\"class\", \"highLight\", 4, \"ngIf\"], [4, \"ngIf\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"highLight\"], [\"mat-button\", \"\", 3, \"click\"]],\n  template: function ItemCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵtext(4, \" Name: \");\n      i0.ɵɵtemplate(5, ItemCardComponent_span_5_Template, 2, 1, \"span\", 4);\n      i0.ɵɵtemplate(6, ItemCardComponent_span_6_Template, 2, 1, \"span\", 5);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, ItemCardComponent_button_8_Template, 3, 0, \"button\", 6);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.imageUrl + ctx.item.products[0].imageName, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.highLight);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.highLight);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate2(\" , Quantity: \", ctx.item.quantity, \", Price: \", ctx.item.price, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isCartPage);\n    }\n  },\n  directives: [i5.NgIf, i6.MatButton, i7.MatIcon],\n  styles: [\".main[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    text-align: left;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.imageDiv[_ngcontent-%COMP%] {\\r\\n    float: left;\\r\\n    width:20%;\\r\\n}\\r\\n\\r\\n.detailsDiv[_ngcontent-%COMP%] {\\r\\n    float: center;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n}\\r\\n\\r\\n.mat-icon[_ngcontent-%COMP%] {\\r\\n    height: 20px;\\r\\n}\\r\\n\\r\\n.highLight[_ngcontent-%COMP%] {\\r\\n    background-color: rgb(250, 245, 114);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZW0tY2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLG9DQUFvQztBQUN4QyIsImZpbGUiOiJpdGVtLWNhcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIG1hcmdpbjogMTBweDtcclxufVxyXG5cclxuLmltYWdlRGl2IHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6MjAlO1xyXG59XHJcblxyXG4uZGV0YWlsc0RpdiB7XHJcbiAgICBmbG9hdDogY2VudGVyO1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG5pbWcge1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi5tYXQtaWNvbiB7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5oaWdoTGlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MCwgMjQ1LCAxMTQpO1xyXG59Il19 */\"]\n});","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\FullStack\\JB\\ThirdProject\\fe\\src\\app\\components\\items-area\\item-card\\item-card.component.ts","C:\\Users\\user\\Desktop\\FullStack\\JB\\ThirdProject\\fe\\src\\app\\components\\items-area\\item-card\\item-card.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport ItemModel from 'src/app/models/item.model';\nimport CartModel from 'src/app/models/cart.model';\nimport UserModel from 'src/app/models/user.model';\nimport ProductModel from 'src/app/models/product.model';\nimport { ItemsService } from 'src/app/services/items.service';\nimport { ProductsService } from 'src/app/services/products.service';\nimport { CartsService } from 'src/app/services/carts.service';\nimport { environment } from 'src/environments/environment';\nimport { ActivatedRoute } from '@angular/router';\nimport store from 'src/app/redux/store';\n\n@Component({\n  selector: 'app-item-card',\n  templateUrl: './item-card.component.html',\n  styleUrls: ['./item-card.component.css']\n})\n\nexport class ItemCardComponent implements OnChanges {\n\n  @Input()\n  public result: ItemModel[];\n  \n  @Input()\n  public item: ItemModel;\n  \n  private carts: CartModel[];\n  public products: ProductModel[];\n  public product: ProductModel;\n  public user: UserModel;\n  public items: ItemModel[];\n  private lastCartIndex: number;\n  public imageUrl = environment.itemImagesUrl;\n  public isCartPage: boolean;\n  public highLight: boolean = false;\n\n  constructor(\n    private myActivatedRoute: ActivatedRoute,\n    private myCartsService: CartsService,\n    private myProductsService: ProductsService,\n    private myItemsService: ItemsService\n  ) { }\n\n  async ngOnInit() {\n    this.user = store.getState().authState.user;\n    try {\n      this.products = await this.myProductsService.getAllProducts();\n    }\n    catch (err) {\n      console.log(\"err user products\");\n    }\n    try {\n      this.carts = await this.myCartsService.getAllCarts(this.user._id);\n    }\n    catch (err) {\n      console.log(\"err getting user carts\");\n    }\n    this.lastCartIndex = this.carts.length - 1;\n    try {\n      this.items = await this.myItemsService.getAllItems(this.carts[this.lastCartIndex]._id);\n    }\n    catch (err) {\n      console.log(\"err getting user items\");\n    }\n    if (this.myActivatedRoute.snapshot.routeConfig.path === \"orders/new\") {\n      this.isCartPage = false;\n    } else {\n      this.isCartPage = true;\n    }\n    return this.isCartPage;\n  }\n  \n  async deleteItem() {\n    try {\n      await this.myItemsService.deleteItem(this.item._id);\n      this.myItemsService.updateCart(true);\n    }\n    catch(err) {\n      console.log(err);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges, item: ItemModel = this.item, eventListener: boolean = false) {\n    item;\n    changes.result;\n    if (this.result !== undefined) {\n      if (this.result === []) {\n        eventListener = false;\n      } else {\n        for (let i of this.result) {\n          if (i === this.item) {\n            eventListener = true;\n          }\n        }\n      }\n      this.highLight = eventListener;\n    }\n  }\n}","<div class=\"main\">\n    <div mat-raised-button class=\"imageDiv\">\n    <img [src]=\"imageUrl + item.products[0].imageName\"/>\n    </div>\n    <div mat-raised-button class=\"detailsDiv\">\n        Name: <span *ngIf=\"highLight\" class=\"highLight\">{{item.products[0].name}}</span>\n              <span *ngIf=\"!highLight\">{{item.products[0].name}}</span>\n              , Quantity: {{item.quantity}}, Price: {{item.price}}\n    </div>\n    <button *ngIf=\"isCartPage\" mat-button (click)=\"deleteItem()\">\n        <mat-icon>delete</mat-icon>\n    </button>\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}