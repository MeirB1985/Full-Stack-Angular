{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/Desktop/FullStack/JB/Third Project/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport ProductModel from 'src/app/models/product.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../services/products.service\";\nimport * as i2 from \"src/app/services/category.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/notify.service\";\n\nfunction AddProductComponent_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Missing name.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Name must start with a capital letter.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_mat_error_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Missing price.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_mat_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r9 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", category_r9._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r9.name);\n  }\n}\n\nfunction AddProductComponent_mat_error_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Missing image.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class AddProductComponent {\n  constructor(myProductsService, myCategoriesService, myRouter, notify) {\n    this.myProductsService = myProductsService;\n    this.myCategoriesService = myCategoriesService;\n    this.myRouter = myRouter;\n    this.notify = notify; // We must create an empty object for the Two-Way Binding:\n\n    this.product = new ProductModel();\n  }\n\n  saveImage(args) {\n    this.product.image = args.target.files;\n  }\n\n  imageBlur() {\n    this.imageVisited = true;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.categories = yield _this.myCategoriesService.getAllCategories();\n        console.log(\"categories\");\n        console.log(_this.categories);\n      } catch (err) {\n        _this.notify.error(err);\n      }\n    })();\n  }\n\n  send() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        console.log(_this2.product);\n        console.log(\"category: \" + _this2.product.categoryToSend);\n        yield _this2.myProductsService.addProduct(_this2.product);\n\n        _this2.notify.success(\"Product has been added.\");\n\n        _this2.myRouter.navigateByUrl(\"/admin\");\n      } catch (err) {\n        _this2.notify.error(err);\n      }\n    })();\n  }\n\n}\n\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NotifyService));\n};\n\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  decls: 36,\n  vars: 9,\n  consts: [[3, \"submit\"], [\"myForm\", \"ngForm\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"pattern\", \"^[A-Z].*$\", 3, \"ngModel\", \"ngModelChange\"], [\"nameBox\", \"ngModel\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"number\", \"step\", \"1\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"priceBox\", \"ngModel\"], [\"name\", \"category\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"categoryBox\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\"], [\"type\", \"file\", \"accept\", \"image/*\", \"required\", \"\", 3, \"change\", \"blur\"], [\"mat-stroked-button\", \"\", 3, \"disabled\"], [3, \"value\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelementStart(1, \"h3\");\n      i0.ɵɵelementStart(2, \"mat-icon\");\n      i0.ɵɵtext(3, \"message\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \" Add Product \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 0, 1);\n      i0.ɵɵlistener(\"submit\", function AddProductComponent_Template_form_submit_5_listener() {\n        return ctx.send();\n      });\n      i0.ɵɵelementStart(7, \"mat-form-field\", 2);\n      i0.ɵɵelementStart(8, \"mat-label\");\n      i0.ɵɵtext(9, \"Name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.product.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, AddProductComponent_mat_error_12_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵtemplate(13, AddProductComponent_mat_error_13_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-form-field\", 2);\n      i0.ɵɵelementStart(15, \"mat-label\");\n      i0.ɵɵtext(16, \"Price: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.product.price = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, AddProductComponent_mat_error_19_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-form-field\", 2);\n      i0.ɵɵelementStart(21, \"mat-label\");\n      i0.ɵɵtext(22, \"Category: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"mat-select\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_mat_select_ngModelChange_23_listener($event) {\n        return ctx.product.categoryToSend = $event;\n      });\n      i0.ɵɵtemplate(25, AddProductComponent_mat_option_25_Template, 2, 2, \"mat-option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"mat-form-field\");\n      i0.ɵɵelementStart(27, \"mat-label\");\n      i0.ɵɵtext(28, \"Image:*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"input\", 11);\n      i0.ɵɵelementStart(30, \"input\", 12);\n      i0.ɵɵlistener(\"change\", function AddProductComponent_Template_input_change_30_listener($event) {\n        return ctx.saveImage($event);\n      })(\"blur\", function AddProductComponent_Template_input_blur_30_listener() {\n        return ctx.imageBlur();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(31, AddProductComponent_mat_error_31_Template, 2, 0, \"mat-error\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 13);\n      i0.ɵɵelementStart(33, \"mat-icon\");\n      i0.ɵɵtext(34, \"add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \" Add \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(6);\n\n      const _r1 = i0.ɵɵreference(11);\n\n      const _r4 = i0.ɵɵreference(18);\n\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.required) && _r1.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.pattern) && _r1.touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.price);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && _r4.touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.categoryToSend);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.imageVisited && !ctx.product.image);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.form.invalid || !ctx.product.image);\n    }\n  },\n  styles: [\"form[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%] {\\r\\n    width: 300px;\\r\\n}\\r\\nmat-hint[_ngcontent-%COMP%] {\\r\\n    color: red;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    width: 50%;\\r\\n    text-align: center;\\r\\n}\\r\\ndiv[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    border: 1px solid black;\\r\\n    padding: 0 10px;\\r\\n    margin: 10px;\\r\\n    border-radius: 10px;\\r\\n    box-shadow: 5px 5px 10px;\\r\\n}\\r\\nh3[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNIO0lBQ0ksWUFBWTtBQUNoQjtBQUVBO0lBQ0ksVUFBVTtBQUNkO0FBRUE7SUFDSSxVQUFVO0lBQ1Ysa0JBQWtCO0FBQ3RCO0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLHdCQUF3QjtBQUM1QjtBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBRUE7Ozs7O0dBS0c7QUFFSDs7Ozs7R0FLRyIsImZpbGUiOiJhZGQtcHJvZHVjdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZm9ybSB7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59ICovXHJcbmZvcm0sIG1hdC1mb3JtLWZpZWxkIHtcclxuICAgIHdpZHRoOiAzMDBweDtcclxufVxyXG5cclxubWF0LWhpbnQge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmRpdiB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgIG1hcmdpbjogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3gtc2hhZG93OiA1cHggNXB4IDEwcHg7XHJcbn1cclxuXHJcbmgzIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLyogaW5wdXQsIGxhYmVsLCBzZWxlY3QsIG9wdGlvbiB7XHJcblx0d2lkdGg6IDEwMCU7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxufSAqL1xyXG5cclxuLyogc3BhbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBtYXJnaW46IDAgMjBweDtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgICBmb250LXNpemU6IHgtbGFyZ2U7XHJcbn0gKi8iXX0= */\"]\n});","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\FullStack\\JB\\Third Project\\fe\\src\\app\\components\\products-area\\add-product\\add-product.component.ts","C:\\Users\\user\\Desktop\\FullStack\\JB\\Third Project\\fe\\src\\app\\components\\products-area\\add-product\\add-product.component.html"],"names":[],"mappings":";AAGA,OAAO,YAAP,MAAyB,8BAAzB;;;;;;;;;ACSY,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,WAAA;AAA+D,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,eAAA;AAAa,IAAA,EAAA,CAAA,YAAA;;;;;;AAC5E,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,WAAA;AAA8D,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,wCAAA;AAAsC,IAAA,EAAA,CAAA,YAAA;;;;;;AAMpG,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,WAAA;AAAwD,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,gBAAA;AAAc,IAAA,EAAA,CAAA,YAAA;;;;;;AAMlE,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,YAAA,EAAA,EAAA;AAAyE,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AAAiB,IAAA,EAAA,CAAA,YAAA;;;;;AAA1C,IAAA,EAAA,CAAA,qBAAA,CAAA,OAAA,EAAA,WAAA,CAAA,GAAA;AAAyB,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,IAAA,EAAA,CAAA,iBAAA,CAAA,WAAA,CAAA,IAAA;;;;;;AAQ7E,IAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,WAAA;AAAkD,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,gBAAA;AAAc,IAAA,EAAA,CAAA,YAAA;;;;ADnB5E,OAAM,MAAO,mBAAP,CAA0B;AAO5B,EAAA,WAAA,CACY,iBADZ,EAEY,mBAFZ,EAGY,QAHZ,EAIY,MAJZ,EAIiC;AAHrB,SAAA,iBAAA,GAAA,iBAAA;AACA,SAAA,mBAAA,GAAA,mBAAA;AACA,SAAA,QAAA,GAAA,QAAA;AACA,SAAA,MAAA,GAAA,MAAA,CAAqB,CATjC;;AACO,SAAA,OAAA,GAAU,IAAI,YAAJ,EAAV;AAQ+B;;AAI/B,EAAA,SAAS,CAAC,IAAD,EAAY;AACxB,SAAK,OAAL,CAAa,KAAb,GAAsB,IAAI,CAAC,MAAL,CAAiC,KAAvD;AACH;;AAEM,EAAA,SAAS,GAAA;AACZ,SAAK,YAAL,GAAoB,IAApB;AACH;;AAEK,EAAA,QAAQ,GAAA;AAAA;;AAAA;AACV,UAAI;AACA,QAAA,KAAI,CAAC,UAAL,SAAwB,KAAI,CAAC,mBAAL,CAAyB,gBAAzB,EAAxB;AAEA,QAAA,OAAO,CAAC,GAAR,CAAY,YAAZ;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,UAAjB;AACH,OALD,CAMA,OAAO,GAAP,EAAY;AACR,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,GAAlB;AACH;AATS;AAUb;;AAEY,EAAA,IAAI,GAAA;AAAA;;AAAA;AACb,UAAI;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,OAAjB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,eAAe,MAAI,CAAC,OAAL,CAAa,cAAxC;AACA,cAAM,MAAI,CAAC,iBAAL,CAAuB,UAAvB,CAAkC,MAAI,CAAC,OAAvC,CAAN;;AACA,QAAA,MAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,yBAApB;;AACA,QAAA,MAAI,CAAC,QAAL,CAAc,aAAd,CAA4B,QAA5B;AACH,OAND,CAOA,OAAM,GAAN,EAAW;AACP,QAAA,MAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,GAAlB;AACH;AAVY;AAWhB;;AA9C2B;;;mBAAnB,mB,EAAmB,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,eAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,eAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,MAAA,C,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,aAAA,C;AAAA,C;;;QAAnB,mB;AAAmB,EAAA,SAAA,EAAA,CAAA,CAAA,iBAAA,CAAA,C;AAAA,EAAA,KAAA,EAAA,E;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,CAAA,EAAA,QAAA,CAAA,EAAA,CAAA,QAAA,EAAA,QAAA,CAAA,EAAA,CAAA,YAAA,EAAA,MAAA,CAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,UAAA,EAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,SAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,GAAA,EAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,UAAA,EAAA,SAAA,CAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,SAAA,EAAA,eAAA,CAAA,EAAA,CAAA,aAAA,EAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,CAAA,EAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,EAAA,QAAA,EAAA,MAAA,CAAA,EAAA,CAAA,oBAAA,EAAA,EAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,4BAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;ACdhC,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA;AAEI,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,UAAA;AAAU,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AACjB,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,eAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA;AAAuB,MAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,SAAA,mDAAA,GAAA;AAAA,eAAU,GAAA,CAAA,IAAA,EAAV;AAAgB,OAAhB;AAEnB,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,CAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,WAAA;AAAW,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,QAAA;AAAM,MAAA,EAAA,CAAA,YAAA;AACjB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA,EAAA,CAAA;AAA+C,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,4DAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,OAAA,CAAA,IAAA,GAAA,MAAA;AAAA,OAAA;AAA/C,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,gBAAA,EAAA,CAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,WAAA;AAAW,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAClB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,CAAA,EAAA,CAAA;AAA2D,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,4DAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,OAAA,CAAA,KAAA,GAAA,MAAA;AAAA,OAAA;AAA3D,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,gBAAA,EAAA,CAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,WAAA;AAAW,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,YAAA;AAAU,MAAA,EAAA,CAAA,YAAA;AACrB,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,YAAA,EAAA,CAAA,EAAA,CAAA;AAAmC,MAAA,EAAA,CAAA,UAAA,CAAA,eAAA,EAAA,SAAA,iEAAA,CAAA,MAAA,EAAA;AAAA,eAAA,GAAA,CAAA,OAAA,CAAA,cAAA,GAAA,MAAA;AAAA,OAAA;AAC/B,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,0CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,EAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,gBAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,WAAA;AAAW,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAA;AAAO,MAAA,EAAA,CAAA,YAAA;AAClB,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AACA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,OAAA,EAAA,EAAA;AAAoC,MAAA,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,SAAA,qDAAA,CAAA,MAAA,EAAA;AAAA,eAAU,GAAA,CAAA,SAAA,CAAA,MAAA,CAAV;AAA2B,OAA3B,EAA4B,MAA5B,EAA4B,SAAA,mDAAA,GAAA;AAAA,eAAS,GAAA,CAAA,SAAA,EAAT;AAAA,OAA5B;AAApC,MAAA,EAAA,CAAA,YAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,yCAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,QAAA,EAAA,EAAA;AACI,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,UAAA;AAAU,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA;AAAG,MAAA,EAAA,CAAA,YAAA;AACb,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,OAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AACJ,MAAA,EAAA,CAAA,YAAA;AAEJ,MAAA,EAAA,CAAA,YAAA;;;;;;;;;;AA/B2D,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,OAAA,CAAA,IAAA;AACnC,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,GAAA,CAAA,MAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,MAAA,CAAA,QAAA,KAAA,GAAA,CAAA,OAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,GAAA,CAAA,MAAA,IAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,MAAA,CAAA,OAAA,KAAA,GAAA,CAAA,OAAA;AAK+C,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,OAAA,CAAA,KAAA;AAC/C,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,OAAA,IAAA,GAAA,CAAA,OAAA;AAKuB,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,OAAA,CAAA,cAAA;AACE,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,UAAA;AAQzB,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,YAAA,IAAA,CAAA,GAAA,CAAA,OAAA,CAAA,KAAA;AAGW,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OAAA,IAAA,CAAA,GAAA,CAAA,OAAA,CAAA,KAAA","sourcesContent":["import { ProductsService } from './../../../services/products.service';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport ProductModel from 'src/app/models/product.model';\nimport { NotifyService } from 'src/app/services/notify.service';\nimport CategoryModel from 'src/app/models/category.model';\nimport { CategoryService } from 'src/app/services/category.service';\n\n\n@Component({\n    selector: 'app-add-product',\n    templateUrl: './add-product.component.html',\n    styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent {\n\n    // We must create an empty object for the Two-Way Binding:\n    public product = new ProductModel();\n    public imageVisited: boolean;\n    public categories: CategoryModel[];\n\n    constructor(\n        private myProductsService: ProductsService,\n        private myCategoriesService: CategoryService,\n        private myRouter: Router,\n        private notify: NotifyService) { }\n\n        \n\n    public saveImage(args: Event): void {\n        this.product.image = (args.target as HTMLInputElement).files;\n    }\n\n    public imageBlur(): void {\n        this.imageVisited = true;\n    }\n\n    async ngOnInit() {\n        try {\n            this.categories = await this.myCategoriesService.getAllCategories();\n\n            console.log(\"categories\")\n            console.log(this.categories);\n        }\n        catch (err) {\n            this.notify.error(err);\n        }\n    }\n      \n    public async send() {\n        try {\n            console.log(this.product);\n            console.log(\"category: \" + this.product.categoryToSend);\n            await this.myProductsService.addProduct(this.product);\n            this.notify.success(\"Product has been added.\");\n            this.myRouter.navigateByUrl(\"/admin\");\n        }\n        catch(err) {\n            this.notify.error(err);\n        }\n    }\n    \n}\n","<div>\n\n    <h3>\n        <mat-icon>message</mat-icon>\n        Add Product\n    </h3>\n\n    <form #myForm=\"ngForm\" (submit)=\"send()\">\n\n        <mat-form-field appearance=\"fill\">\n            <mat-label>Name: </mat-label>\n            <input matInput #nameBox=\"ngModel\" type=\"text\" [(ngModel)]=\"product.name\" name=\"name\" required pattern=\"^[A-Z].*$\">\n            <mat-error *ngIf=\"nameBox.errors?.required && nameBox.touched\">Missing name.</mat-error>\n            <mat-error *ngIf=\"nameBox.errors?.pattern && nameBox.touched\">Name must start with a capital letter.</mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n            <mat-label>Price: </mat-label>\n            <input matInput #priceBox=\"ngModel\" type=\"number\" step=\"1\" [(ngModel)]=\"product.price\" name=\"price\" required>\n            <mat-error *ngIf=\"priceBox.invalid && priceBox.touched\">Missing price.</mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n            <mat-label>Category: </mat-label>\n            <mat-select #categoryBox=\"ngModel\" [(ngModel)]=\"product.categoryToSend\" name=\"category\" required>\n                <mat-option *ngFor=\"let category of categories\" value=\"{{category._id}}\">{{category.name}}</mat-option>\n            </mat-select>\n        </mat-form-field>\n\n        <mat-form-field>\n            <mat-label>Image:*</mat-label>\n            <input matInput/>\n            <input type=\"file\" accept=\"image/*\" (change)=\"saveImage($event)\" (blur)=\"imageBlur()\" required/>\n            <mat-error *ngIf=\"imageVisited && !product.image\">Missing image.</mat-error>\n        </mat-form-field>  \n        \n        <button mat-stroked-button [disabled]=\"myForm.form.invalid || !product.image\">\n            <mat-icon>add</mat-icon>\n            Add\n        </button>\n    </form>\n\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}