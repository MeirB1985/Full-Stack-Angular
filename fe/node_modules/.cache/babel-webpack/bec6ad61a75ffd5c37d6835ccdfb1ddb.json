{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/Desktop/FullStack/JB/ThirdProject/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport ItemModel from 'src/app/models/item.model';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products.service\";\nimport * as i2 from \"src/app/services/category.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/notify.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"../../cart-area/my-cart/my-cart.component\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"../../shared-area/please-wait/please-wait.component\";\nimport * as i12 from \"../product-card/product-card.component\";\n\nfunction SearchResultsComponent_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/products/category/\", category_r3._id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r3.name);\n  }\n}\n\nfunction SearchResultsComponent_app_please_wait_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-please-wait\");\n  }\n}\n\nfunction SearchResultsComponent_app_product_card_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 11);\n  }\n\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", p_r4);\n  }\n}\n\nexport class SearchResultsComponent {\n  constructor(myProductsService, myCategoriesService, myActivatedRoute, notify, dialog, myRouter) {\n    this.myProductsService = myProductsService;\n    this.myCategoriesService = myCategoriesService;\n    this.myActivatedRoute = myActivatedRoute;\n    this.notify = notify;\n    this.dialog = dialog;\n    this.myRouter = myRouter;\n    this.imageUrl = environment.productImagesUrl;\n    this.item = new ItemModel();\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.searchedKeyword = _this.myActivatedRoute.snapshot.params.id;\n      console.log(\"search init\");\n\n      try {\n        _this.categories = yield _this.myCategoriesService.getAllCategories();\n      } catch (err) {\n        _this.notify.error(err);\n      }\n\n      try {\n        // this.searchedKeyword = this.myActivatedRoute.snapshot.params.id;\n        _this.products = yield _this.myProductsService.getAllProducts();\n      } catch (err) {\n        _this.notify.error(err);\n      }\n\n      _this.filteredArray = _this.products.filter(product => product.name.toLowerCase().includes(_this.searchedKeyword.toLowerCase()));\n      console.log(_this.filteredArray);\n    })();\n  }\n\n  secondSearch() {\n    this.filteredArray = this.products.filter(product => product.name.toLowerCase().includes(this.searchedKeyword.toLowerCase()));\n    this.myRouter.navigateByUrl(\"/products/search/\" + this.searchedKeyword);\n  }\n\n}\n\nSearchResultsComponent.ɵfac = function SearchResultsComponent_Factory(t) {\n  return new (t || SearchResultsComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NotifyService), i0.ɵɵdirectiveInject(i5.MatDialog), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nSearchResultsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchResultsComponent,\n  selectors: [[\"app-search-results\"]],\n  inputs: {\n    product: \"product\"\n  },\n  decls: 19,\n  vars: 4,\n  consts: [[1, \"cart\"], [1, \"products\"], [1, \"search\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-stroked-button\", \"\", 3, \"click\"], [1, \"links\"], [\"mat-stroked-button\", \"\", \"routerLink\", \"/products\"], [\"mat-stroked-button\", \"\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"product\", 4, \"ngFor\", \"ngForOf\"], [\"mat-stroked-button\", \"\", 3, \"routerLink\"], [3, \"product\"]],\n  template: function SearchResultsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-my-cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"label\");\n      i0.ɵɵtext(5, \"Search: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function SearchResultsComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.searchedKeyword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function SearchResultsComponent_Template_button_click_7_listener() {\n        return ctx.secondSearch();\n      });\n      i0.ɵɵelementStart(8, \"mat-icon\");\n      i0.ɵɵtext(9, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"div\", 5);\n      i0.ɵɵelementStart(12, \"a\", 6);\n      i0.ɵɵtext(13, \"All Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, SearchResultsComponent_a_14_Template, 2, 2, \"a\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"br\");\n      i0.ɵɵelement(16, \"hr\");\n      i0.ɵɵtemplate(17, SearchResultsComponent_app_please_wait_17_Template, 1, 0, \"app-please-wait\", 8);\n      i0.ɵɵtemplate(18, SearchResultsComponent_app_product_card_18_Template, 1, 1, \"app-product-card\", 9);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchedKeyword);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredArray);\n    }\n  },\n  directives: [i6.MyCartComponent, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i8.MatButton, i9.MatIcon, i8.MatAnchor, i3.RouterLinkWithHref, i10.NgForOf, i10.NgIf, i11.PleaseWaitComponent, i12.ProductCardComponent],\n  styles: [\".cart[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    width: 40%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.products[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    width: 60%;\\r\\n    height: 100%;\\r\\n    float: right;\\r\\n    padding: 5px;\\r\\n    \\r\\n    background-color: rgb(245, 216, 232);\\r\\n}\\r\\n\\r\\n.links[_ngcontent-%COMP%] {\\r\\n    height: 20px;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.main[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    left: 20px;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\nspan[_ngcontent-%COMP%] {\\r\\n\\twidth: 100px;\\r\\n    height: 100px;\\r\\n    display: inline-block;\\r\\n    text-align: left;\\r\\n    align-items: center;\\r\\n    padding: 0 10px;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    width: 60px;\\r\\n    height: 60px;\\r\\n    margin: 5px;\\r\\n}\\r\\n\\r\\n.search[_ngcontent-%COMP%] {\\r\\n    display: inline-block;\\r\\n    text-align: left;\\r\\n    \\r\\n    \\r\\n    \\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1yZXN1bHRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixrQkFBa0I7QUFDdEI7O0FBQ0E7Q0FDQyxZQUFZO0lBQ1QsYUFBYTtJQUNiLHFCQUFxQjtJQUNyQixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsZ0JBQWdCO0lBQ2hCLDZCQUE2QjtJQUM3QixxQkFBcUI7SUFDckI7K0JBQzJCO0FBQy9CIiwiZmlsZSI6InNlYXJjaC1yZXN1bHRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FydCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNDAlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbi5wcm9kdWN0cyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNjAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgLyogbWFyZ2luOiA1cHg7ICovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ1LCAyMTYsIDIzMik7XHJcbn1cclxuXHJcbi5saW5rcyB7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLm1haW4ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuYSB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBsZWZ0OiAyMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcbnNwYW4ge1xyXG5cdHdpZHRoOiAxMDBweDtcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgIG1hcmdpbjogMTBweDtcclxufVxyXG5cclxuaW1nIHtcclxuICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbn1cclxuXHJcbi5zZWFyY2gge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIC8qIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOyAqL1xyXG4gICAgLyogcGFkZGluZzogMCAxMHB4OyAqL1xyXG4gICAgLyogYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJveC1zaGFkb3c6IDVweCA1cHggMTBweDsgKi9cclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\FullStack\\JB\\ThirdProject\\fe\\src\\app\\components\\products-area\\search-results\\search-results.component.ts","C:\\Users\\user\\Desktop\\FullStack\\JB\\ThirdProject\\fe\\src\\app\\components\\products-area\\search-results\\search-results.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport CategoryModel from 'src/app/models/category.model';\nimport ItemModel from 'src/app/models/item.model';\nimport ProductModel from 'src/app/models/product.model';\nimport UserModel from 'src/app/models/user.model';\nimport { CategoryService } from 'src/app/services/category.service';\nimport { NotifyService } from 'src/app/services/notify.service';\nimport { ProductsService } from 'src/app/services/products.service';\nimport { environment } from 'src/environments/environment';\n\nexport interface DialogData {\n  product: ProductModel;\n  quantity: number;\n}\n\n@Component({\n  selector: 'app-search-results',\n  templateUrl: './search-results.component.html',\n  styleUrls: ['./search-results.component.css']\n})\n\nexport class SearchResultsComponent implements OnInit {\n\n  @Input()\n  public product: ProductModel;\n\n  public products: ProductModel[];\n  public filteredArray: ProductModel[];\n  public categories: CategoryModel[];\n  public imageUrl = environment.productImagesUrl;\n  public quantity: number;\n  public user: UserModel;\n  public item = new ItemModel();\n  public searchedKeyword: string;\n  \n\n  constructor(\n    private myProductsService: ProductsService,\n    private myCategoriesService: CategoryService,\n    private myActivatedRoute: ActivatedRoute,\n    private notify: NotifyService,\n    public dialog: MatDialog,\n    private myRouter: Router\n    ) { }\n\n  async ngOnInit() {\n    this.searchedKeyword = this.myActivatedRoute.snapshot.params.id;\n\n    console.log(\"search init\");\n    try {\n      this.categories = await this.myCategoriesService.getAllCategories();\n    }\n    catch (err) {\n        this.notify.error(err);\n    }\n    try {\n        // this.searchedKeyword = this.myActivatedRoute.snapshot.params.id;\n        this.products = await this.myProductsService.getAllProducts();\n    }\n    catch (err) {\n        this.notify.error(err);\n    }\n    this.filteredArray = this.products.filter(product=> product.name.toLowerCase().includes(this.searchedKeyword.toLowerCase()));\n    console.log(this.filteredArray);\n  }\n\n  secondSearch() {\n    this.filteredArray = this.products.filter(product=> product.name.toLowerCase().includes(this.searchedKeyword.toLowerCase()));\n    this.myRouter.navigateByUrl(\"/products/search/\" + this.searchedKeyword);\n  }\n}\n","<!-- <div calss=\"main\"> -->\n    <div class=\"cart\">\n        <app-my-cart></app-my-cart>\n    </div>\n    <div class=\"products\">\n        <div class=\"search\">\n            <label>Search: </label>\n            <input type=\"text\" [(ngModel)]=\"searchedKeyword\"/>\n            <button mat-stroked-button (click)=\"secondSearch()\">\n                <mat-icon>search</mat-icon>\n            </button>\n        </div>\n        <br/>\n        <div class=\"links\">\n            <a mat-stroked-button routerLink=\"/products\">All Products</a>\n            <a *ngFor=\"let category of categories\" mat-stroked-button routerLink=\"/products/category/{{category._id}}\">{{category.name}}</a>\n        </div>\n        <br/>\n        <hr/>\n        <app-please-wait *ngIf=\"!products\"></app-please-wait>\n        <app-product-card *ngFor=\"let p of filteredArray\" [product]=\"p\" ></app-product-card>\n    </div>\n<!-- </div> -->"],"sourceRoot":""},"metadata":{},"sourceType":"module"}